{"ast":null,"code":"var _jsxFileName = \"/Users/evaburns/Documents/eva-bgu-projects-2021/tic-tac-toe/frontend/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Square(props) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"square\",\n    onClick: props.onClick,\n    children: props.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Square;\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: this.props.squares[i],\n      onClick: () => this.props.onClick(i)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(0), this.renderSquare(1), this.renderSquare(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(3), this.renderSquare(4), this.renderSquare(5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(6), this.renderSquare(7), this.renderSquare(8)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.refreshList = () => {\n      axios.get(\"/api/winners/\").then(res => this.setState({\n        winners: res.data\n      })).catch(err => console.log(err));\n    };\n\n    this.newGame = () => {\n      const xFirst = Math.floor(Math.random() * 2) ? true : false;\n      this.setState({\n        history: [{\n          squares: Array(9).fill(null)\n        }],\n        stepNumber: 0,\n        posted: false,\n        xIsNext: xFirst\n      });\n    };\n\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null)\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      xStarted: true,\n      posted: false\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  getWinnerCount() {\n    const data = this.state.winners;\n    console.log(data);\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n    const moves = history.map((step, move) => {\n      const desc = move ? 'Go to move: ' + move : 'Go to start';\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"revertButton\",\n          onClick: () => this.jumpTo(move),\n          children: desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, move, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this);\n    });\n    let status;\n\n    if (winner) {\n      status = 'Winner: ' + winner;\n\n      if (!this.state.posted) {\n        axios.post(\"/api/winners/\", {\n          'name': winner\n        }).then(res => this.refreshList()).catch(err => console.log(err));\n        this.setState({\n          posted: true\n        });\n        console.log(this.state.winners);\n      }\n    } else if (calculateDraw(current.squares)) {\n      status = 'Draw!';\n    } else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tic-Tac-Toe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-board\",\n          style: {\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(Board, {\n            squares: current.squares,\n            onClick: i => this.handleClick(i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status\",\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: moves\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.newGame,\n            className: \"newGameButton\",\n            children: \"New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n} // ========================================\n\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 185,\n  columnNumber: 3\n}, this), document.getElementById('root'));\n\nfunction calculateWinner(squares) {\n  const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n\n  return null;\n}\n\nfunction calculateDraw(squares) {\n  if (calculateWinner(squares)) {\n    return null;\n  }\n\n  if (squares[0] && squares[1] && squares[2] && squares[3] && squares[4] && squares[5] && squares[6] && squares[7] && squares[8]) {\n    return squares[0];\n  }\n\n  return null;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Square\");","map":{"version":3,"sources":["/Users/evaburns/Documents/eva-bgu-projects-2021/tic-tac-toe/frontend/src/index.js"],"names":["React","ReactDOM","axios","Square","props","onClick","value","Board","Component","renderSquare","i","squares","render","Game","constructor","refreshList","get","then","res","setState","winners","data","catch","err","console","log","newGame","xFirst","Math","floor","random","history","Array","fill","stepNumber","posted","xIsNext","state","xStarted","handleClick","slice","current","length","calculateWinner","concat","jumpTo","step","componentDidMount","getWinnerCount","winner","moves","map","move","desc","status","post","calculateDraw","position","left","top","transform","document","getElementById","lines","a","b","c"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nfunction Square(props) {\n  return (\n    <button\n      className=\"square\"\n      onClick={props.onClick}>\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null),\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      xStarted: true,\n      posted: false,\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2) === 0,\n    });\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/winners/\")\n      .then((res) => this.setState({ winners: res.data }))\n      .catch((err) => console.log(err));\n  }\n\n  newGame = () => {\n    const xFirst = Math.floor(Math.random() * 2) ? true: false;\n    this.setState({\n      history: [{\n        squares: Array(9).fill(null),\n      }],\n      stepNumber: 0,\n      posted: false,\n      xIsNext: xFirst,\n    })\n  }\n\n  getWinnerCount() {\n    const data = this.state.winners;\n    console.log(data);\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ?\n        'Go to move: ' + move :\n        'Go to start';\n      return (\n        <li key={move}>\n          <button\n            className=\"revertButton\"\n            onClick={() => this.jumpTo(move)}>{desc}\n          </button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = 'Winner: ' + winner;\n      if (!this.state.posted) {\n        axios\n          .post(\"/api/winners/\", { 'name': winner })\n          .then((res) => this.refreshList())\n          .catch((err) => console.log(err));\n        this.setState({ posted: true });\n        console.log(this.state.winners);\n      }\n\n    } else if (calculateDraw(current.squares)) {\n      status = 'Draw!';\n    }\n    else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n\n    return (\n      <div>\n        <div className=\"title\">\n          <h1>Tic-Tac-Toe</h1>\n        </div>\n        <div className=\"game\">\n          <div className=\"game-board\"\n            style={{\n              position: 'absolute', left: '50%', top: '50%',\n              transform: 'translate(-50%, -50%)'\n            }}>\n            <Board\n              squares={current.squares}\n              onClick={(i) => this.handleClick(i)}\n            />\n          </div>\n          <div className=\"game-info\">\n            <div className=\"status\">{status}</div>\n            <ol>{moves}</ol>\n            <button onClick={this.newGame} className=\"newGameButton\">New Game</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nfunction calculateDraw(squares) {\n  if (calculateWinner(squares)) {\n    return null;\n  }\n\n  if (squares[0] && squares[1] && squares[2] &&\n    squares[3] && squares[4] && squares[5] &&\n    squares[6] && squares[7] && squares[8]) {\n    return squares[0];\n  }\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}